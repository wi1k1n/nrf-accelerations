
\chapter{Evaluation \im{(or Results?)}}
\label{chap:evaluation}

This chapter addresses implementation details, experiments, ablation studies and achieved results.


\section{Implementation details}

\begin{enumerate}
    \item Datasets
    \item Loss function: color + beta-regularizer
    \item Parameters: optimizer, lr, batch, coefficients, pruning/refinement iterations
    \item Software/Hardware setup
    \item Time estimates
\end{enumerate}


\section{Datasets}
\begin{enumerate}
    \item Synthetic datasets:
    \begin{enumerate}
        \item static/co-located/arbitrary
        \item Blender + python
        \item Blender point light intensity for light attenuation
        \item Different scenes (with its features explanations: reflectance, shape, etc.)
    \end{enumerate}
    \item Real-world datasets: flower??? tac7
\end{enumerate}


\section{Datasets}

Metrics: MSE, SSIM, FLIPLoss/HDRFlipLoss


\section{Experiments}

The experiments involve training models on different synthetic datasets (\im{reference to prev. subsection}) with different parameters
and quantitative (\im{ref}) and qualitative (\im{ref}) comparisons of those.



\section{Comparisons}

Following models for comparison:
\begin{enumerate}
    \item Vanilla NSVF
    \item Explicit scheme colocated (NRF+NSVF)
    \item Explicit scheme 'brute-force'
    \item Explicit scheme w/in-voxel approximation
    \item Implicit scheme w/in-voxel approximation
\end{enumerate}


Following datasets for comparison:
\begin{enumerate}
    \item BRDF sphere
    \item Rocket
    \item Guitar
    \item \color{red}{Trophy/donut/tablelamp}
\end{enumerate}

Following settings:
\begin{enumerate}
    \item Static
    \item Colocated
    \item Arbitrary
\end{enumerate}


Table with time/memory consumptions:

\im{I'M TABLE!}


\section{Discussion}

\begin{enumerate}
    \item HDR inputs: preprocessing (log-transform)
    \item Background color problem?
    \item In-Voxel approximation: different sigma strategies
    \item Implicit scheme with tangential coordinate system
\end{enumerate}


% \section{Colocated setting flaws}

% Network barely generalizes for noncolocated light source position when trained only on colocated setting


% \section{Brute Force vs Approximation}

% Time/memory/quality comparisons


\section{Discussion}

\begin{enumerate}
    \item HDR inputs: preprocessing (log-transform)
    \item Background color problem?
    \item In-Voxel approximation: different sigma strategies
    \item Implicit scheme loses specularities: tangential coordinate system
\end{enumerate}






% \section{Blender-Radiance coefficient}

% The light attenuation factor has to be taken into account in the explicit scheme.

% $L_o(x, \Omega_o) = L_e(x, \Omega_o) + \int_{H_i}{f_{BRDF}(\Omega_i, x, \Omega_o) L_i(x, \Omega_i) cos \Theta_i d\omega_i}$

% $L_i = \tau_l L_l$

% $L_l = f_{att}I$

% $f_{att}=\frac{1}{1 + 2d/r + d/r^2}$

% $L_o = \frac{k_d}{\pi} \frac{1}{1 + 2d/r + d/r^2} I cos \Theta_i$

% $k_c = 0, k_l = 0, k_q = 1$

% r = 0.05

% $f_{att} = r^2 / d = 0.0025 / (10-0.05) = 2.51256e-4$

% $0.24316406 = 0.8 / \pi * 2.51256e-4 * I * 1$

% $0.24316406 = 2.01005e-4 * I$

% $I = 500$





% This is some test area for new mathematical helper macros to nicely visualize mathematical formulas.

% \section{Numbers}
% \begin{align}
%     \mathbb{C}
%     \qquad
%     \mathbb{R}
%     \qquad
%     \mathbb{Q}
%     \qquad
%     \mathbb{Z}
%     \qquad
%     \mathbb{N}
% \end{align}

% \section{Numbers with physical units}
% \begin{align}
%     \SI{1.23}{\meter\per\second}
% \end{align}
% \begin{align}
%     \si{\meter\per\second}
% \end{align}
% \begin{align}
%     \SI{1.23\pm0.45}{\meter\per\second}
% \end{align}
% \begin{align}
%     \SI{3e8}{\meter\per\second}
% \end{align}
% \begin{align}
%     \SI{32}{\giga\byte} = \SI{32e9}{\byte}
% \end{align}
% \begin{align}
%     \SI{32}{\gibi\byte} = \SI[exponent-base=2]{32e30}{\byte}
% \end{align}

% \section{Norm, Dot, Abs, Interval}
% \begin{align}
%     \pi = \const
% \end{align}
% \begin{align}
%     1 \in \interval{0}{2}
% \end{align}
% \begin{align}
%     1 \in \order{n}
% \end{align}
% \begin{align}
%     \evalat{ \frac{\partial f}{\partial x} }{ x = 0 }
% \end{align}
% \begin{align}
%     \norm{p} \qquad \norm{\frac{p}{2}}
% \end{align}
% \begin{align}
%     \abs{p} \qquad \abs{\frac{p}{2}}
% \end{align}
% \begin{align}
%     \dotproduct{p}{q} \qquad \dotproduct{\frac{p}{2}}{q}
% \end{align}
% \begin{align}
%     \crossproduct{p}{q} \qquad \crossproduct{\frac{p}{2}}{q}
% \end{align}

% \section{Vector, Matrix}
% \begin{align}
%     \vec{p} \qquad \vecarrow{p}
% \end{align}
% \begin{align}
%     \vec{p}^{\transposed}
% \end{align}
% \begin{align}
%     \gradient{\vec{p}}
% \end{align}
% \begin{align}
%     \divergence{\mat{A}}
% \end{align}
% \begin{align}
%     \laplacian{\mat{A}}
% \end{align}
% \begin{align}
%     \mat{A}
% \end{align}
% \begin{align}
%     \set{K} , K
%     \qquad
%     \set{N} , N
% \end{align}
% \begin{align}
%     \neighborhood{\vec{p}} = \left\{ \vec{q} \mid \norm{\vec{p} - \vec{q}} < \epsilon \right\}
% \end{align}

% \section{Set operations}
% \begin{align}
%     A \intersect B
% \end{align}
% \begin{align}
%     A \union B
% \end{align}
% \begin{align}
%     A \difference B
% \end{align}

% \section{Derivative, Integral, Sum, Probability}
% \begin{align}
%     \int_H x \, dx
% \end{align}
% \begin{align}
%     \sum_H x
% \end{align}
% \begin{align}
%     \probability{x}
% \end{align}
% \begin{align}
%     \probabilitygiven{x}{y}
% \end{align}
% \begin{align}
%     \expectation{x}
% \end{align}
% \begin{align}
%     \deviation{x}
% \end{align}
% \begin{align}
%     \variance{x}
% \end{align}


% \section{Lemma, Theorem, Corollary}
% \begin{lemma}
%     This is a lemma.
% \end{lemma}
% \begin{proof}
%     Proof of lemma.
% \end{proof}

% \begin{theorem}
%     This is a theorem.
% \end{theorem}
% \begin{proof}
%     Proof of theorem.
% \end{proof}

% \begin{corollary}
%     This is a corollary.
% \end{corollary}
% \begin{proof}
%     Proof of corollary.
% \end{proof}